<!DOCTYPE html>
<html lang="en">
<#include "../common/head.html"/>
<body>
<#include "../common/menu.html"/>
<!--中间内容-->
<div id="container" class="m-container-small m-padded-tb-big animated fadeIn">
  <div class="ui container">
    <!--header-->
    <div class="ui top attached segment">
      <div class="ui middle aligned two column grid">
        <div class="column">
          <h3 class="ui teal header">社团</h3>
        </div>
        <div class="right aligned column">
          共 <h2 class="ui orange header m-inline-block m-text-thin"> ${leagueList?size} </h2> 个
        </div>
      </div>
    </div>

    <div class="ui attached segment m-padded-tb-large">
      <#list leagueList as item>
        <a data-val="${item.id}" href="#" class="ui basic left pointing large label m-margin-tb-tiny league-item">
          <span>${item.name}</span>
          <div class="detail">${item.userNum}</div>
        </a>
      </#list>
      <form action="/league/apply" method="post" onsubmit="return apply()">
        <input type="hidden" name="leagueId" id="leagueId">
        <button type="submit" class="ui teal button">申请加入</button>
      </form>
    </div>

  </div>
</div>

<#include "../common/footer.html"/>
<script>
    $('.menu.toggle').click(function () {
        $('.m-item').toggleClass('m-mobile-hide');
    });
    $(".league-item").click(function () {
        $(".league-item").removeClass("teal");
        $(this).addClass("teal");
        $("#leagueId").val($(this).data("val"));
    });

    function apply() {
        if ($("#leagueId").val() < 1) {
            alert("请先选择社团");
            return false;
        }
        return true;
    }
</script>
</body>
</html>